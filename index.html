async function cargarDatos() {
            const cont = document.getElementById('contenedor-principal');
            cont.innerHTML = '<p class="text-center p-20 text-rose-500 font-black uppercase text-xs tracking-widest animate-pulse italic">Sincronizando Monitor...</p>';
            
            let query;
            if(activeTab === 'reportes') {
                query = _supabase.from('reportes').select('*').order('created_at', {ascending: false});
            } else if(activeTab === 'proyectos') {
                // AQUÃ ESTÃ EL CAMBIO: Si no es Admin, solo trae las aprobadas
                query = _supabase.from('proyectos_actividades').select('*');
                if (!isAdmin) {
                    query = query.eq('aprobado', true);
                }
                query = query.order('created_at', {ascending: false});
            } else {
                query = _supabase.from('proyectos_ejecutados').select('*').order('created_at', {ascending: false});
            }
            
            const { data, error } = await query;
            
            cont.innerHTML = (data || []).map(i => {
                if(activeTab === 'reportes') {
                    const color = (i.estado && i.estado.includes('ðŸ”´')) ? 'border-red-500' : 
                                  (i.estado && i.estado.includes('ðŸŸ¡')) ? 'border-yellow-500' : 'border-rose-600';
                    return `
                        <div class="bg-slate-900/60 p-7 rounded-[1.5rem] border-l-4 ${color} mb-5 shadow-xl text-left hover:bg-slate-900 transition-all">
                            <div class="flex justify-between items-center mb-3">
                                <p class="text-[10px] font-black text-rose-500 uppercase tracking-widest leading-none italic">${i.comite}</p>
                                <span class="text-[9px] font-black text-slate-500 uppercase italic">${i.estado}</span>
                            </div>
                            <p class="text-sm md:text-base my-3 text-slate-200 leading-relaxed italic">"${i.avance}"</p>
                            <p class="text-[10px] text-slate-500 font-black uppercase italic">${i.socio} â€¢ ${new Date(i.created_at).toLocaleDateString()}</p>
                        </div>`;
                }
                
                return `
                    <div class="bg-slate-900 p-8 rounded-[2rem] border border-slate-800 mb-8 relative shadow-2xl text-left italic hover:border-rose-600/30 transition-all">
                        <div class="absolute top-8 right-8 flex gap-3">
                            ${isAdmin ? `<button onclick="eliminar('${activeTab === 'historico' ? 'proyectos_ejecutados' : 'proyectos_actividades'}', ${i.id})" class="bg-red-600/20 text-red-500 border border-red-500/20 px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all hover:bg-red-600 hover:text-white">Borrar</button>` : ''}
                            ${isAdmin && activeTab === 'proyectos' && !i.aprobado ? `<button onclick="aprobarProyecto(${i.id})" class="bg-green-600/20 text-green-500 border border-green-500/20 px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all hover:bg-green-600 hover:text-white">Aprobar</button>` : ''}
                            <button onclick='descargarPDF(${JSON.stringify(i)})' class="bg-blue-600/20 text-blue-400 border border-blue-400/20 px-4 py-2 rounded-xl text-[10px] font-black uppercase transition-all hover:bg-blue-600 hover:text-white">PDF</button>
                        </div>
                        <h4 class="text-3xl font-impact-italic uppercase mb-6 text-white tracking-tighter">
                            ${i.titulo} 
                            ${!i.aprobado && activeTab === 'proyectos' ? '<span class="text-xs text-orange-500 bg-orange-500/10 px-2 py-1 rounded ml-2 border border-orange-500/20">PENDIENTE</span>' : ''}
                        </h4>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-[10px] font-black text-slate-500 uppercase italic mb-8">
                            <div>Lugar: <span class="text-white">${i.lugar}</span></div>
                            <div>Horas: <span class="text-white">${i.horas_voluntariado || 0}h</span></div>
                            <div>Presupuesto: <span class="text-white">${i.presupuesto_gastado || 0}$</span></div>
                            <div>Fecha: <span class="text-white">${i.fecha_ejecucion}</span></div>
                        </div>
                        <p class="text-base text-slate-300 border-l-2 border-rose-600 pl-6 leading-relaxed italic">"${i.descripcion}"</p>
                    </div>`;
            }).join('') || '<p class="text-center p-20 text-slate-700 italic font-black uppercase tracking-widest">Sin registros pÃºblicos</p>';
        }

        // Nueva funciÃ³n para aprobar proyectos
        async function aprobarProyecto(id) {
            const { error } = await _supabase.from('proyectos_actividades').update({ aprobado: true }).eq('id', id);
            if(error) alert("Error al aprobar"); else cargarDatos();
        }
